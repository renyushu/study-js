<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>es8</title>
</head>
<body>
    <script type="text/javascript">
        /**
         *
         */

        async function fn(){
            //返回成功的promise
            // return 'hello'

            //返回的是一个失败的promise
            // throw new Error('出错啦')

            //返回的结果是一个promise对象
            return new Promise((resolve, reject) => {
                // resolve('成功的数据')
                reject('失败的数据')
            })

        }

        const result = fn(); //返回的是一个promise对象
        console.log(result)

        //调用then方法
        result.then(value => {
            console.log(value)
        }, reason => {
            console.log(reason)
        })

        console.log('~~~~~~~~')

        /**
         * await
         *  必须放在 async函数中
         *
         */

        //创建 promise的对象
        const p = new Promise((resolve, reject) => {
            // resolve('成功的值');
            reject('shibaila~');
            })

        //a
        async function main() {
            try {
                let res = await p;//如果promise返回失败的值， 需要使用try catch捕获
            }catch (e) {
                console.log(e);
            }
        }

        main();


    </script>



</body>
</html>